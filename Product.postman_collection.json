{
  "info": {
    "_postman_id": "978f9bf0-8288-40ad-a094-6a3146aa3bb7",
    "name": "Product",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
    "_exporter_id": "39395084",
    "_collection_link": "https://go.postman.co/collection/39395084-978f9bf0-8288-40ad-a094-6a3146aa3bb7?source=collection_link"
  },
  "item": [
    {
      "name": "get single product",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jres = pm.response.json();\r",
              "const singleProductSchema = {\r",
              "\r",
              "\r",
              "    \"type\": \"object\",\r",
              "    \"properties\": {\r",
              "        \"id\": {\r",
              "            \"type\": \"number\"\r",
              "        },\r",
              "        \"title\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"price\": {\r",
              "            \"type\": \"number\"\r",
              "        },\r",
              "        \"description\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"category\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"image\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"rating\": {\r",
              "            \"type\": \"object\",\r",
              "            \"properties\": {\r",
              "                \"rate\": {\r",
              "                    \"type\": \"number\"\r",
              "                },\r",
              "                \"count\": {\r",
              "                    \"type\": \"number\"\r",
              "                }\r",
              "            },\r",
              "            \"required\": [\r",
              "                \"rate\",\r",
              "                \"count\"\r",
              "            ]\r",
              "        }\r",
              "    },\r",
              "    \"required\": [\r",
              "        \"id\",\r",
              "        \"title\",\r",
              "        \"price\",\r",
              "        \"description\",\r",
              "        \"category\",\r",
              "        \"image\",\r",
              "        \"rating\"\r",
              "    ]\r",
              "};\r",
              "\r",
              "// 1️⃣ Successful response\r",
              "pm.test(\"Successful response\", () => {\r",
              "    pm.expect(pm.response.code).to.be.oneOf([200, 201]);\r",
              "});\r",
              "\r",
              "// 2️⃣ JSON schem\r",
              "pm.test(\"JSON schema validation\", () => {\r",
              "    pm.expect(jres).to.be.jsonSchema(singleProductSchema);\r",
              "});\r",
              "\r",
              "// 3️⃣ Response is a non-empty object\r",
              "pm.test(\"Response is a non-empty object\", () => {\r",
              "    pm.expect(jres).to.be.an(\"object\");\r",
              "    pm.expect(Object.keys(jres).length).to.be.greaterThan(0);\r",
              "});\r",
              "\r",
              "// 4️⃣ Verify returned product matches provided product ID\r",
              "pm.test(\"Returned product matches requested ID\", () => {\r",
              "    const expectedId = pm.collectionVariables.get(\"id\") || pm.variables.get(\"id\");\r",
              "    pm.expect(jres.id).to.eql(Number(expectedId));\r",
              "});\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// pm.collectionVariables.set(\"id\", Math.floor(Math.random() * 20) + 1);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "protocolProfileBehavior": {
        "disableBodyPruning": true
      },
      "request": {
        "method": "GET",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}products/{{id}}",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "{{id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "get all products",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jres = pm.response.json();\r",
              "\r",
              "const singleProductSchema = {\r",
              "\r",
              "\r",
              "    \"type\": \"object\",\r",
              "    \"properties\": {\r",
              "        \"id\": {\r",
              "            \"type\": \"number\"\r",
              "        },\r",
              "        \"title\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"price\": {\r",
              "            \"type\": \"number\"\r",
              "        },\r",
              "        \"description\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"category\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"image\": {\r",
              "            \"type\": \"string\"\r",
              "        },\r",
              "        \"rating\": {\r",
              "            \"type\": \"object\",\r",
              "            \"properties\": {\r",
              "                \"rate\": {\r",
              "                    \"type\": \"number\"\r",
              "                },\r",
              "                \"count\": {\r",
              "                    \"type\": \"number\"\r",
              "                }\r",
              "            },\r",
              "            \"required\": [\r",
              "                \"rate\",\r",
              "                \"count\"\r",
              "            ]\r",
              "        }\r",
              "    },\r",
              "    \"required\": [\r",
              "        \"id\",\r",
              "        \"title\",\r",
              "        \"price\",\r",
              "        \"description\",\r",
              "        \"category\",\r",
              "        \"image\",\r",
              "        \"rating\"\r",
              "    ]\r",
              "};\r",
              "\r",
              "pm.test(\"Each product matches schema\", () => {\r",
              "    jres.forEach(item => {\r",
              "        pm.expect(item).to.be.jsonSchema(singleProductSchema);\r",
              "    });\r",
              "});\r",
              "pm.test(\"Status code is 200\", () => {\r",
              "    pm.response.to.have.status(200);\r",
              "});\r",
              "\r",
              "pm.test(\"length is 20\",()=>{\r",
              "    pm.expect(jres.length).to.equal(20);\r",
              "});\r",
              "\r",
              "pm.test(\"json response is a non empty array\",()=>{\r",
              "pm.expect(jres).to.be.an('array').that.is.not.empty;\r",
              "});\r",
              "\r",
              "//this used only when we are expecting only one product\r",
              "// pm.test(\"Schema Validation\",()=>{\r",
              "// pm.response.to.have.jsonSchema(singleProductSchema);\r",
              "// });\r",
              "\r",
              "\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}products",
          "host": [
            "{{base_url}}products"
          ]
        }
      },
      "response": []
    },
    {
      "name": "get limited & sorted product",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              "// pm.collectionVariables.set(\"limit\", Math.floor(Math.random() * 20) + 1);\r",
              "// pm.collectionVariables.set(\"sort\", [\"asc\", \"desc\"][Math.floor(Math.random() * 2)]);"
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}products?limit={{limit}}&sort={{sort}}",
          "host": [
            "{{base_url}}products"
          ],
          "query": [
            {
              "key": "limit",
              "value": "{{limit}}"
            },
            {
              "key": "sort",
              "value": "{{sort}}"
            }
          ]
        }
      },
      "response": []
    },
    {
      "name": "get all categories",
      "event": [
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "test",
          "script": {
            "exec": [],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}products/categories",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "categories"
          ]
        }
      },
      "response": []
    },
    {
      "name": "get specific category product",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const json_response = pm.response.json();\r",
              "const singleItem_schema = {\r",
              "  \"type\": \"object\",\r",
              "  \"properties\": {\r",
              "    \"id\": {\r",
              "      \"type\": \"number\"\r",
              "    },\r",
              "    \"title\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"price\": {\r",
              "      \"type\": \"number\"\r",
              "    },\r",
              "    \"description\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"category\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"image\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"rating\": {\r",
              "      \"type\": \"object\",\r",
              "      \"properties\": {\r",
              "        \"rate\": {\r",
              "          \"type\": \"number\"\r",
              "        },\r",
              "        \"count\": {\r",
              "          \"type\": \"number\"\r",
              "        }\r",
              "      },\r",
              "      \"required\": [\r",
              "        \"rate\",\r",
              "        \"count\"\r",
              "      ]\r",
              "    }\r",
              "  },\r",
              "  \"required\": [\r",
              "    \"id\",\r",
              "    \"title\",\r",
              "    \"price\",\r",
              "    \"description\",\r",
              "    \"category\",\r",
              "    \"image\",\r",
              "    \"rating\"\r",
              "  ]\r",
              "};\r",
              "\r",
              "pm.test(\"expected schema validation\", function(){\r",
              "    json_response.forEach(function(item) {\r",
              "        pm.expect(item).to.be.jsonSchema(singleItem_schema);\r",
              "    });\r",
              "});\r",
              "\r",
              "pm.test(\"response is an array and not empty validation\", function(){\r",
              "    pm.expect(json_response).to.be.a('array').and.is.not.empty;\r",
              "});\r",
              "\r",
              "pm.test(\"only products of the given category is returned\", function(){\r",
              "    let category =  pm.collectionVariables.get(\"category\")\r",
              "    json_response.forEach(function(item) {\r",
              "        pm.expect(item.category).to.be.eql(category);\r",
              "    }); \r",
              "});"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{base_url}}products/category/{{category}}",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "category",
            "{{category}}"
          ]
        },
        "description": "In this GET request we are getting single product returned so we are validating :\n\n- successful response\n    \n- JSON schema validation\n    \n- Returned response should be a single an array and not empty\n    \n- Expected category products only returned comparing with provided category"
      },
      "response": []
    },
    {
      "name": "New Request",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jres = pm.response.json();\r",
              "\r",
              "const schemaa = {\r",
              "  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\r",
              "  \"title\": \"Generated schema for Root\",\r",
              "  \"type\": \"object\",\r",
              "  \"properties\": {\r",
              "    \"id\": {\r",
              "      \"type\": \"number\"\r",
              "    },\r",
              "    \"title\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"price\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"description\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"image\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"category\": {\r",
              "      \"type\": \"string\"\r",
              "    }\r",
              "  },\r",
              "  \"required\": [\r",
              "    \"id\",\r",
              "    \"title\",\r",
              "    \"price\",\r",
              "    \"description\",\r",
              "    \"image\",\r",
              "    \"category\"\r",
              "  ]\r",
              "}\r",
              "\r",
              "pm.test(\"Response status code is 201\", function () {\r",
              "    pm.expect(pm.response.code).to.eql(201);\r",
              "});\r",
              "\r",
              "pm.test(\"Schema validation\", function () {\r",
              "    pm.response.to.have.jsonSchema(schemaa);\r",
              "});\r",
              "\r",
              "const res = pm.response.json();\r",
              "const req = pm.request.body.raw ? JSON.parse(pm.request.body.raw) : {};\r",
              "\r",
              "console.log(\"Response Body:\", res);\r",
              "console.log(\"Request Body:\", req);\r",
              "\r",
              "// Product fields validation\r",
              "pm.test(\"Product fields are present\", () => {\r",
              "    pm.expect(res).to.have.property(\"id\");\r",
              "    pm.expect(res).to.have.property(\"title\");\r",
              "    pm.expect(res).to.have.property(\"price\");\r",
              "    pm.expect(res).to.have.property(\"description\");\r",
              "    pm.expect(res).to.have.property(\"image\");\r",
              "    pm.expect(res).to.have.property(\"category\");\r",
              "});\r",
              "\r",
              "// Returned product matches request payload\r",
              "pm.test(\"Returned product matches sent product\", () => {\r",
              "    pm.expect(res.title).to.eql(req.title);\r",
              "    pm.expect(res.price).to.eql(req.price);\r",
              "    pm.expect(res.description).to.eql(req.description);\r",
              "    pm.expect(res.image).to.eql(req.image);\r",
              "    pm.expect(res.category).to.eql(req.category);\r",
              "});\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"title\": \"{{title}}\",\r\n    \"price\": \"{{price}}\",\r\n    \"description\": \"{{description}}\",\r\n    \"image\": \"{{image}}\",\r\n    \"category\": \"{{category}}\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}products",
          "host": [
            "{{base_url}}products"
          ]
        }
      },
      "response": []
    },
    {
      "name": "New Request",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "const jres = pm.response.json();\r",
              "\r",
              "const schemaa = {\r",
              "  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\r",
              "  \"title\": \"Generated schema for Root\",\r",
              "  \"type\": \"object\",\r",
              "  \"properties\": {\r",
              "    \"id\": {\r",
              "      \"type\": \"number\"\r",
              "    },\r",
              "    \"title\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"price\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"description\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"image\": {\r",
              "      \"type\": \"string\"\r",
              "    },\r",
              "    \"category\": {\r",
              "      \"type\": \"string\"\r",
              "    }\r",
              "  },\r",
              "  \"required\": [\r",
              "    \"id\",\r",
              "    \"title\",\r",
              "    \"price\",\r",
              "    \"description\",\r",
              "    \"image\",\r",
              "    \"category\"\r",
              "  ]\r",
              "}\r",
              "\r",
              "pm.test(\"Response status code is 201\", function () {\r",
              "    pm.expect(pm.response.code).to.oneOf([201,200]);\r",
              "});\r",
              "\r",
              "pm.test(\"Schema validation\", function () {\r",
              "    pm.response.to.have.jsonSchema(schemaa);\r",
              "});\r",
              "\r",
              "const res = pm.response.json();\r",
              "const req = pm.request.body.raw ? JSON.parse(pm.request.body.raw) : {};\r",
              "\r",
              "console.log(\"Response Body:\", res);\r",
              "console.log(\"Request Body:\", req);\r",
              "\r",
              "// Product fields validation\r",
              "pm.test(\"Product fields are present\", () => {\r",
              "    pm.expect(res).to.have.property(\"id\");\r",
              "    pm.expect(res).to.have.property(\"title\");\r",
              "    pm.expect(res).to.have.property(\"price\");\r",
              "    pm.expect(res).to.have.property(\"description\");\r",
              "    pm.expect(res).to.have.property(\"image\");\r",
              "    pm.expect(res).to.have.property(\"category\");\r",
              "});\r",
              "\r",
              "// Returned product matches request payload\r",
              "pm.test(\"Returned product matches sent product\", () => {\r",
              "    pm.expect(res.title).to.eql(req.title);\r",
              "    pm.expect(res.price).to.eql(req.price);\r",
              "    pm.expect(res.description).to.eql(req.description);\r",
              "    pm.expect(res.image).to.eql(req.image);\r",
              "    pm.expect(res.category).to.eql(req.category);\r",
              "});\r",
              "\r",
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        },
        {
          "listen": "prerequest",
          "script": {
            "exec": [
              ""
            ],
            "type": "text/javascript",
            "packages": {},
            "requests": {}
          }
        }
      ],
      "request": {
        "method": "PUT",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"title\": \"{{title}}\",\r\n    \"price\": \"{{price}}\",\r\n    \"description\": \"{{description}}\",\r\n    \"image\": \"{{image}}\",\r\n    \"category\": \"{{category}}\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}products/{{id}}",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "{{id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "New Request",
      "request": {
        "method": "PATCH",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": "{\r\n    \"title\": \"{{title}}\",\r\n    \"price\": \"{{price}}\",\r\n    \"description\": \"{{description}}\",\r\n    \"image\": \"{{image}}\",\r\n    \"category\": \"{{category}}\"\r\n}",
          "options": {
            "raw": {
              "language": "json"
            }
          }
        },
        "url": {
          "raw": "{{base_url}}products/{{id}}",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "{{id}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "New Request",
      "request": {
        "method": "DELETE",
        "header": [],
        "body": {
          "mode": "raw",
          "raw": ""
        },
        "url": {
          "raw": "{{base_url}}products/{{id}}",
          "host": [
            "{{base_url}}products"
          ],
          "path": [
            "{{id}}"
          ]
        }
      },
      "response": []
    }
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          "// ===== CSV → Collection Variables =====\r",
          "pm.collectionVariables.set(\"id\", pm.iterationData.get(\"id\"));\r",
          "pm.collectionVariables.set(\"title\", pm.iterationData.get(\"title\"));\r",
          "pm.collectionVariables.set(\"price\", pm.iterationData.get(\"price\"));\r",
          "pm.collectionVariables.set(\"description\", pm.iterationData.get(\"description\"));\r",
          "pm.collectionVariables.set(\"category\", pm.iterationData.get(\"category\"));\r",
          "pm.collectionVariables.set(\"image\", pm.iterationData.get(\"image\"));\r",
          "pm.collectionVariables.set(\"rate\", pm.iterationData.get(\"rate\"));\r",
          "pm.collectionVariables.set(\"count\", pm.iterationData.get(\"count\"));\r",
          "\r",
          "// ===== Random Query Params =====\r",
          "const limit = Math.floor(Math.random() * 20) + 1;\r",
          "pm.collectionVariables.set(\"limit\", limit);\r",
          "\r",
          "const order = [\"asc\", \"desc\"];\r",
          "pm.collectionVariables.set(\"sort\", order[Math.floor(Math.random() * order.length)]);\r",
          ""
        ]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "packages": {},
        "requests": {},
        "exec": [
          "pm.test(\"Status code is 200 or 201\", function () {\r",
          "    pm.expect([200, 201]).to.include(pm.response.code);\r",
          "});\r",
          ""
        ]
      }
    }
  ],
  "variable": [
    {
      "key": "id",
      "value": ""
    },
    {
      "key": "title",
      "value": ""
    },
    {
      "key": "price",
      "value": ""
    },
    {
      "key": "description",
      "value": ""
    },
    {
      "key": "category",
      "value": ""
    },
    {
      "key": "image",
      "value": ""
    },
    {
      "key": "rate",
      "value": ""
    },
    {
      "key": "count",
      "value": ""
    },
    {
      "key": "limit",
      "value": ""
    },
    {
      "key": "sort",
      "value": ""
    }
  ]
}